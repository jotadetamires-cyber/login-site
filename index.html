<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cadastro de Servi√ßos Firebase</title>
<style>
    body { font-family: Arial; margin: 20px; background-color: #f4f4f4; }
    .container { background-color: #fff; padding: 20px; border-radius: 8px; width: 400px; margin: auto; }
    input, button { width: 100%; margin: 5px 0; padding: 8px; }
    ul { padding-left: 0; list-style: none; }
    li { background: #eee; margin: 5px 0; padding: 8px; border-radius: 4px; display: flex; justify-content: space-between; align-items: center; }
    .acoes button { margin-left: 5px; }
</style>
</head>
<body>
<div class="container">
    <h2>Cadastro de Servi√ßos</h2>
    <input type="text" id="nome" placeholder="Nome do servi√ßo">
    <input type="text" id="descricao" placeholder="Descri√ß√£o">
    <input type="number" id="preco" placeholder="Pre√ßo">
    <button onclick="adicionarServico()">Adicionar Servi√ßo</button>
    <h3>Servi√ßos Cadastrados</h3>
    <ul id="listaServicos"></ul>
</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js"></script>

<script>
// üîπ Configura√ß√£o Firebase (substitua pelos seus dados)
const firebaseConfig = {
  apiKey: "SUA_API_KEY",
  authDomain: "SEU_DOMINIO.firebaseapp.com",
  projectId: "SEU_PROJETO_ID",
  storageBucket: "SEU_BUCKET.appspot.com",
  messagingSenderId: "SEU_SENDER_ID",
  appId: "SEU_APP_ID"
};

// Inicializa Firebase
const app = firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// üîπ Adicionar servi√ßo
function adicionarServico() {
    const nome = document.getElementById('nome').value;
    const descricao = document.getElementById('descricao').value;
    const preco = parseFloat(document.getElementById('preco').value);

    if(nome && descricao && !isNaN(preco)) {
        db.collection("servicos").add({nome, descricao, preco})
        .then(() => {
            document.getElementById('nome').value = '';
            document.getElementById('descricao').value = '';
            document.getElementById('preco').value = '';
        })
        .catch((error) => console.error("Erro ao adicionar servi√ßo:", error));
    } else {
        alert("Preencha todos os campos corretamente!");
    }
}

// üîπ Atualizar servi√ßo
function editarServico(id, dadosAtuais) {
    const novoNome = prompt("Nome:", dadosAtuais.nome);
    const novaDescricao = prompt("Descri√ß√£o:", dadosAtuais.descricao);
    const novoPreco = parseFloat(prompt("Pre√ßo:", dadosAtuais.preco));

    if(novoNome && novaDescricao && !isNaN(novoPreco)) {
        db.collection("servicos").doc(id).update({
            nome: novoNome,
            descricao: novaDescricao,
            preco: novoPreco
        });
    }
}

// üîπ Excluir servi√ßo
function excluirServico(id) {
    if(confirm("Tem certeza que deseja excluir este servi√ßo?")) {
        db.collection("servicos").doc(id).delete();
    }
}

// üîπ Listar servi√ßos em tempo real
db.collection("servicos").onSnapshot((snapshot) => {
    const lista = document.getElementById('listaServicos');
    lista.innerHTML = '';
    snapshot.forEach((doc) => {
        const li = document.createElement('li');
        li.innerHTML = `
            ${doc.data().nome} - ${doc.data().descricao} - $${doc.data().preco.toFixed(2)}
            <span class="acoes">
                <button onclick='editarServico("${doc.id}", ${JSON.stringify(doc.data())})'>Editar</button>
                <button onclick='excluirServico("${doc.id}")'>Excluir</button>
            </span>
        `;
        lista.appendChild(li);
    });
});
</script>
</body>
</html>
